    function renderStakes(stakes) { if (!stakes || stakes.length === 0) { return '<p class="no-stakes">ĞĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ÑÑ‚ĞµĞ¹ĞºĞ¾Ğ²</p>'; } return stakes.map(stake => ` <div class="stake-item"> <div class="stake-amount">${stake.amount} MORI</div> <div class="stake-period">${stake.period} Ğ¼ĞµÑ</div> <div class="stake-apr">${stake.apr}% APR</div> <div class="stake-end">Ğ´Ğ¾ ${stake.endDate}</div> </div> `).join('');}function changeAvatar() { if (!window.currentUser) return; const avatars = ['ğŸ‘¤', 'ğŸ¦‰', 'ğŸ‰', 'ğŸ‘‘', 'ğŸ§™', 'ğŸ¦Š', 'ğŸº', 'ğŸ¦…']; const current = window.currentUser.avatar || 'ğŸ‘¤'; const next = avatars[(avatars.indexOf(current) + 1) % avatars.length]; window.currentUser.avatar = next; localStorage.setItem('oracle_user', JSON.stringify(window.currentUser)); document.getElementById('profile-avatar').textContent = next; window.utils.showToast('ğŸ­ ĞĞ²Ğ°Ñ‚Ğ°Ñ€ Ğ¸Ğ·Ğ¼ĞµĞ½Ñ‘Ğ½');}export function render(container) { if (!window.currentUser) { container.innerHTML = '<div class="error">Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</div>'; return; } container.innerHTML = ` <div class="profile-content"> <div class="profile-header"> <div class="profile-avatar" id="profile-avatar">${window.currentUser.avatar || 'ğŸ‘¤'}</div> <div class="profile-name">${window.currentUser.name}</div> </div> <div class="profile-stats"> <div class="stat-box"> <div class="stat-value">${window.currentUser.stats?.mori || 0}</div> <div class="stat-label">MORI</div> </div> <div class="stat-box"> <div class="stat-value">${window.currentUser.stats?.staking || 0}</div> <div class="stat-label">Ğ¡Ñ‚ĞµĞ¹ĞºĞ¸Ğ½Ğ³</div> </div> <div class="stat-box"> <div class="stat-value">${window.currentUser.stats?.books || 0}</div> <div class="stat-label">ĞšĞ½Ğ¸Ğ³Ğ¸</div> </div> </div> <div class="staking-section"> <h3>ĞœĞ¾Ğ¸ ÑÑ‚ĞµĞ¹ĞºĞ¸</h3> <div id="user-stakes"> ${renderStakes(window.currentUser.stakes)} </div> </div> <button class="staking-btn" onclick="window.openStaking()">â• ĞĞ¾Ğ²Ñ‹Ğ¹ ÑÑ‚ĞµĞ¹Ğº</button> <button class="logout-btn" onclick="window.logout()">ğŸšª Ğ’Ñ‹Ğ¹Ñ‚Ğ¸</button> </div> `; window.core.addManagedListener(document.getElementById('profile-avatar'), 'click', changeAvatar);}window.logout = logout;
